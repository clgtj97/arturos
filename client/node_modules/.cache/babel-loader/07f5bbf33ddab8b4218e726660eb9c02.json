{"ast":null,"code":"'use strict';\n/**\n * This plugin deduplicates extra slashes found in the URL. This can help with\n * malformed URLs that might otherwise get misrouted.\n *\n * @public\n * @function dedupeSlashes\n * @returns {Function} Handler\n * @example\n * server.pre(restify.plugins.pre.dedupeSlashes());\n * server.get('/hello/:one', function(req, res, next) {\n *     res.send(200);\n *     return next();\n * });\n *\n * // the server will now convert requests to /hello//jake => /hello/jake\n */\n\nfunction createDedupeSlashes() {\n  return function dedupeSlashes(req, res, next) {\n    req.url = req.url.replace(/(\\/)\\/+/g, '$1');\n    return next();\n  };\n}\n\nmodule.exports = createDedupeSlashes;","map":null,"metadata":{},"sourceType":"script"}